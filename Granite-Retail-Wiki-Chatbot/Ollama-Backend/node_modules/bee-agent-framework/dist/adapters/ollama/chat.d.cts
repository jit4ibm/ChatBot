import { LLMMeta, EmbeddingOutput, BaseLLMTokenizeOutput, GenerateOptions, StreamGenerateOptions, AsyncStream, ExecutionOptions, BaseLLMEvents, LLMCache } from '../../llms/base.cjs';
import { ChatLLMOutput, ChatLLMGenerateEvents, ChatLLM } from '../../llms/chat.cjs';
import { BaseMessage } from '../../llms/primitives/message.cjs';
import { E as Emitter } from '../../emitter-DdThRYHg.cjs';
import { ChatResponse, Ollama, Options, ChatRequest } from 'ollama';
import { GetRunContext } from '../../context.cjs';
import { OllamaEmbeddingOptions } from './llm.cjs';
import '../../errors.cjs';
import '../../internals/types.cjs';
import '../../internals/helpers/guards.cjs';
import '../../internals/serializable.cjs';
import '../../cache/base.cjs';
import 'promise-based-task';
import '../../internals/helpers/promise.cjs';
import '../../llms/llm.cjs';

declare class OllamaChatLLMOutput extends ChatLLMOutput {
    readonly results: ChatResponse[];
    constructor(response: ChatResponse);
    get messages(): BaseMessage[];
    getTextContent(): string;
    get finalResult(): Readonly<ChatResponse>;
    merge(other: OllamaChatLLMOutput): void;
    toString(): string;
    createSnapshot(): {
        results: ChatResponse[];
    };
    loadSnapshot(snapshot: ReturnType<typeof this.createSnapshot>): void;
}
interface Input {
    modelId: string;
    client?: Ollama;
    parameters?: Partial<Options>;
    executionOptions?: ExecutionOptions;
    cache?: LLMCache<OllamaChatLLMOutput>;
}
type OllamaChatLLMEvents = ChatLLMGenerateEvents<OllamaChatLLMOutput>;
declare class OllamaChatLLM extends ChatLLM<OllamaChatLLMOutput> {
    readonly emitter: Emitter<OllamaChatLLMEvents>;
    readonly client: Ollama;
    readonly parameters: Partial<Options>;
    constructor({ client, modelId, parameters, executionOptions, cache }?: Input);
    meta(): Promise<LLMMeta>;
    embed(input: BaseMessage[][], options?: OllamaEmbeddingOptions): Promise<EmbeddingOutput>;
    tokenize(input: BaseMessage[]): Promise<BaseLLMTokenizeOutput>;
    version(): Promise<string>;
    protected _generate(input: BaseMessage[], options: GenerateOptions, run: GetRunContext<typeof this>): Promise<OllamaChatLLMOutput>;
    protected _stream(input: BaseMessage[], options: Partial<StreamGenerateOptions>, run: GetRunContext<typeof this>): AsyncStream<OllamaChatLLMOutput>;
    protected prepareParameters(input: BaseMessage[], overrides?: GenerateOptions): Promise<ChatRequest>;
    createSnapshot(): {
        modelId: string;
        parameters: Partial<Options>;
        executionOptions: ExecutionOptions;
        client: Ollama;
        emitter: Emitter<BaseLLMEvents<unknown, OllamaChatLLMOutput>>;
        cache: LLMCache<OllamaChatLLMOutput>;
    };
}

export { OllamaChatLLM, type OllamaChatLLMEvents, OllamaChatLLMOutput };
