'use strict';

var template_cjs = require('../../template.cjs');
var base_cjs = require('./base.cjs');
var yaml = require('js-yaml');
var zod = require('zod');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var yaml__default = /*#__PURE__*/_interopDefault(yaml);

var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
class YamlDriver extends base_cjs.BaseDriver {
  static {
    __name(this, "YamlDriver");
  }
  template = new template_cjs.PromptTemplate({
    schema: zod.z.object({
      schema: zod.z.string()
    }),
    template: `You are a helpful assistant that generates only valid YAML adhering to the following schema.

\`\`\`
{{schema}}
\`\`\`

IMPORTANT: Every message must be a parsable YAML string without additional output.
`
  });
  static {
    this.register();
  }
  parseResponse(textResponse) {
    return yaml__default.default.load(textResponse);
  }
  schemaToString(schema) {
    return yaml__default.default.dump(schema);
  }
}

exports.YamlDriver = YamlDriver;
//# sourceMappingURL=yaml.cjs.map
//# sourceMappingURL=yaml.cjs.map