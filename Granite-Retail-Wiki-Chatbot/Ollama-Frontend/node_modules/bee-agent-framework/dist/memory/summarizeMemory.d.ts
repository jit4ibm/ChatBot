import { GenerateOptions } from '../llms/base.js';
import { BaseMessage } from '../llms/primitives/message.js';
import { BaseMemory } from './base.js';
import { PromptTemplate } from '../template.js';
import { z } from 'zod';
import { ChatLLM, ChatLLMOutput } from '../llms/chat.js';
import '../context.js';
import '../emitter-DRfJC1TP.js';
import '../internals/types.js';
import '../internals/helpers/guards.js';
import '../internals/serializable.js';
import '../internals/helpers/promise.js';
import '../errors.js';
import '../cache/base.js';
import 'promise-based-task';
import 'ajv';

interface SummarizeMemoryInput {
    llm: ChatLLM<ChatLLMOutput>;
    template?: typeof SummarizeMemoryTemplate;
}
declare const SummarizeMemoryTemplate: PromptTemplate<z.ZodObject<{
    summary: z.ZodString;
}, "strip", z.ZodTypeAny, {
    summary: string;
}, {
    summary: string;
}>>;
declare class SummarizeMemory extends BaseMemory {
    protected summary: string;
    protected template: PromptTemplate<z.ZodObject<{
        summary: z.ZodString;
    }, "strip", z.ZodTypeAny, {
        summary: string;
    }, {
        summary: string;
    }>>;
    protected llm: ChatLLM<ChatLLMOutput, GenerateOptions>;
    constructor(config: SummarizeMemoryInput);
    get messages(): BaseMessage[];
    delete(message: BaseMessage): Promise<boolean>;
    add(message: BaseMessage, _index?: number): Promise<void>;
    reset(): void;
    createSnapshot(): {
        summary: string;
        template: PromptTemplate<z.ZodObject<{
            summary: z.ZodString;
        }, "strip", z.ZodTypeAny, {
            summary: string;
        }, {
            summary: string;
        }>>;
        llm: ChatLLM<ChatLLMOutput, GenerateOptions>;
        messages: BaseMessage[];
    };
    loadSnapshot(state: ReturnType<typeof this.createSnapshot>): void;
}

export { SummarizeMemory, type SummarizeMemoryInput, SummarizeMemoryTemplate };
